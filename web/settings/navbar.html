<header>
	<!-- Fixed navbar -->
	<nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top">
		<a class="navbar-brand" href="./index.php">
			<span class="devicename">openWB</span>
		</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="collapsibleNavbar">
			<ul class="navbar-nav">

				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbardropSettings" data-toggle="dropdown">
						Einstellungen
					</a>
					<div class="dropdown-menu">
						<a class="dropdown-item" id="navAllgemein" href="./settings/settings.php">Allgemein</a>
						<a class="dropdown-item" id="navSmartHome" href="./settings/smarthome.php">Smart Home</a>
						<a class="dropdown-item" id="navSmartHome2" href="./settings/smarthomeconfig.php">Smart Home 2.0</a>
						<a class="dropdown-item" id="navOpenwbCloud" href="./settings/cloudconfig.php">openWB Cloud</a>
						<a class="dropdown-item" id="navMqttBruecke" href="./settings/mqtt.php">MQTT-Brücke</a>
						<!-- <a class="dropdown-item" id="navAutolock" href="./settings/autoLock.php">Auto-Lock</a> -->
						<!--<a class="dropdown-item" id="navNachtladen" href="./settings/nachtladenconfig.php">Nachtladen</a>-->
						<!--<a class="dropdown-item" id="navZielladen" href="./settings/zielladenconfig.php">Zielladen</a>-->
						<a class="dropdown-item" id="navVerschiedenes" href="./settings/misc.php">Verschiedenes</a>
					</div>
				</li>

				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbardropSettings2" data-toggle="dropdown">
						Laden
					</a>
					<div class="dropdown-menu">
						<a class="dropdown-item" id="navGeneralLadeeinstellungen" href="./settings/generalchargeconfig.html">Übergreifendes</a>
						<a class="dropdown-item" id="navSofortLadeeinstellungen" href="./settings/sofortconfig.php">Sofortladen (0)</a>
						<a class="dropdown-item" id="navPVLadeeinstellungen" href="./settings/pvconfig.html">PV & Min+PV (1/2)</a>
						<a class="dropdown-item" id="navNachtladen" href="./settings/nachtladenconfig.php">Nachtladen</a>
						<a class="dropdown-item" id="navZielladen" href="./settings/zielladenconfig.php">Zielladen</a>
					</div>
				</li>
				<li class="nav-item">
					<a class="nav-link" id="navStatus" href="status/status.php">Status</a>
				</li>
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbardropSettings2" data-toggle="dropdown">
						Erscheinungsbild
					</a>
					<div class="dropdown-menu">
						<a class="dropdown-item" id="navSetTheme" href="./settings/setTheme.php">Theme-Auswahl</a>
						<a class="dropdown-item" id="navGraphSettings" href="./settings/graphconfig.php">Graph</a>
					</div>
				</li>

				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbardropModulconfig" data-toggle="dropdown">
						Module
					</a>
					<div class="dropdown-menu">
						<a class="dropdown-item" id="navModulkonfigurationLp" data-toggle="modal" data-target="#modulconfigConfirmationLPModal" style="cursor: pointer;">Ladepunkte</a>
						<a class="dropdown-item" id="navModulkonfigurationEvu" data-toggle="modal" data-target="#modulconfigConfirmationEVUModal" style="cursor: pointer;">EVU</a>
						<a class="dropdown-item" id="navModulkonfigurationPv" data-toggle="modal" data-target="#modulconfigConfirmationPVModal" style="cursor: pointer;">PV</a>
						<a class="dropdown-item" id="navModulkonfigurationBat" data-toggle="modal" data-target="#modulconfigConfirmationBATModal" style="cursor: pointer;">Batteriespeicher</a>
					</div>
				</li>

				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbardropSystem" data-toggle="dropdown">
						System
					</a>
					<div class="dropdown-menu">
						<a class="dropdown-item" id="navBackup" data-toggle="modal" data-target="#backupConfirmationModal" style="cursor: pointer;">Backup erstellen</a>
						<a class="dropdown-item" id="navWiederherstellen" data-toggle="modal" data-target="#restoreConfirmationModal" style="cursor: pointer;">Backup wiederherstellen</a>
						<!--a class="dropdown-item" id="navReboot" data-toggle="modal" data-target="#rebootConfirmationModal" style="cursor: pointer;">Reboot</a -->
                        <!--a class="dropdown-item" id="navRestartDisplay" data-toggle="modal" data-target="#restartDisplayConfirmationModal" style="cursor: pointer;">Restart-Display</a ..>
						<!--a class="dropdown-item" id="navShutdown" data-toggle="modal" data-target="#shutdownConfirmationModal" style="cursor: pointer;">Shutdown</a -->
						<a class="dropdown-item" id="navUpdate" href="./settings/update.php">Update</a>
						<a class="dropdown-item" id="navSystemInfo" href="./settings/systeminfo.php">System</a>
						<a class="dropdown-item" id="navDebugging" href="./settings/debugging.php">Debugging</a>
						<a class="dropdown-item" id="navFehlerbericht" href="./settings/fehlerbericht.html">Support</a> 
						<a class="dropdown-item" id="navPasswortschutz" href="./settings/setPassword.php">Passwortschutz</a>
						<a class="dropdown-item" id="navNetworkSettings" href="./settings/network.php">Netzwerk-Einstellungen</a>
					</div>
				</li>
<!--				
				<li class="nav-item">
					<a class="nav-link" href="https://github.com/snaptec/openWB/wiki" target="_blank" >Wiki</a>
				</li>
-->				
				<li class="nav-item">
					<a class="nav-link" href="./logout.html" id="navbarLogout">Abmelden</a>
				</li>
			</ul>
		</div>
	</nav>
</header>

<!-- modal backup-confirmation window -->
<div class="modal fade" id="backupConfirmationModal" role="dialog">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<!-- modal header -->
			<div class="modal-header bg-info">
				<h4 class="modal-title text-light">Info</h4>
			</div>
			<!-- modal body -->
			<div class="modal-body text-center">
				<p>
					Das Erstellen des Backups kann einige Zeit in Anspruch nehmen.<br>
					Fortfahren?
				</p>
			</div>
			<!-- modal footer -->
			<div class="modal-footer d-flex justify-content-center">
				<button type="button" class="btn btn-success" data-dismiss="modal" onclick="window.location.href='./settings/bckredirect.html'">Backup</button>
				<button type="button" class="btn btn-danger" data-dismiss="modal">Abbruch</button>
			</div>
		</div>
	</div>
</div>

<!-- modal restore-confirmation window -->
<div class="modal fade" id="restoreConfirmationModal" role="dialog">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<!-- modal header -->
			<div class="modal-header bg-danger">
				<h4 class="modal-title text-light">Achtung</h4>
			</div>
			<!-- modal body -->
			<div class="modal-body text-center">
				<p>
					Soll wirklich ein gespeichertes Backup wiederhergestellt werden?<br>
					Die Wiederherstellung kann einige Zeit in Anspruch nehmen. Aktuelle Einstellungen als auch die installierte Version werden mit dem Backup überschrieben!<br>
					Eventuell vorhandene externe openWB erhalten kein Backup/Downgrade.
				</p>
				<p>
					<span class="text-danger">Fahrzeuge sind vor der Wiederherstellung abzustecken!</span>
				</p>
			</div>
			<!-- modal footer -->
			<div class="modal-footer d-flex justify-content-center">
				<button type="button" class="btn btn-success" data-dismiss="modal" onclick="window.location.href='./settings/restore.php'">Wiederherstellen</button>
				<button type="button" class="btn btn-danger" data-dismiss="modal">Abbruch</button>
			</div>
		</div>
	</div>
</div>

<!-- modal reboot-confirmation window -->
<div class="modal fade" id="rebootConfirmationModal" role="dialog">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<!-- modal header -->
			<div class="modal-header bg-danger">
				<h4 class="modal-title text-light">Achtung</h4>
			</div>
			<!-- modal body -->
			<div class="modal-body text-center">
				<p>
					<b>Soll die openWB wirklich neu gestartet werden?<br></b>
					Wenn ein Problem mit der openWB vorliegt bitte Debug Daten senden.<br>
					Ein Neustart löscht alle Debug Daten und macht es unmöglich, die Problemursache festzustellen.<br>
					<span class="text-danger">Fahrzeuge sind vor dem Neustart abzustecken!</span>
				</p>
			</div>
			<!-- modal footer -->
			<div class="modal-footer d-flex justify-content-center">
				<button type="button" class="btn btn-success" data-dismiss="modal" onclick="window.location.href='./settings/reboot.html'">Reboot</button>
				<button type="button" class="btn btn-danger" data-dismiss="modal">Abbruch</button>
			</div>
		</div>
	</div>
</div>

<!-- modal restartDisplay-confirmation window -->
<div class="modal fade" id="restartDisplayConfirmationModal" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <!-- modal header -->
            <div class="modal-header bg-danger">
                <h4 class="modal-title text-light">Achtung</h4>
            </div>
            <!-- modal body -->
            <div class="modal-body text-center">
                <p>
                    <b>
                    Soll der Service des internen LC-Displays neu gestartet werden?<br>
                    <small>( Es wird Service lightdm neu gestartet )</small><br> 
                    </b>
                    <span class="text-danger">Fahrzeuge sind vorher abzustecken!</span>
                </p>
            </div>
            <!-- modal footer -->
            <div class="modal-footer d-flex justify-content-center">
                <button type="button" class="btn btn-success" data-dismiss="modal" onclick="window.location.href='./settings/restartDisplay.html'">Restart</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">Abbruch</button>
            </div>
        </div>
    </div>
</div>

<!-- modal shutdown-confirmation window -->
<div class="modal fade" id="shutdownConfirmationModal" role="dialog">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<!-- modal header -->
			<div class="modal-header bg-danger">
				<h4 class="modal-title text-light">Achtung</h4>
			</div>
			<!-- modal body -->
			<div class="modal-body text-center">
				<p>
					<b>Soll die openWB wirklich heruntergefahren werden?<br></b>
					Wenn ein Problem mit der openWB vorliegt bitte Debug Daten senden.<br>
					Ein Herunterfahren löscht alle Debug Daten und macht es unmöglich, die Problemursache festzustellen.<br>
					Nach dem Herunterfahren kann die openWB nur durch Trennen und anschließendem Wiederverbinden mit dem Stromnetz erneut gestartet werden. (z.B. am Sicherungsautomat)<br>
					<span class="text-danger">Fahrzeuge sind vor dem Herunterfahren abzustecken!</span>
				</p>
			</div>
			<!-- modal footer -->
			<div class="modal-footer d-flex justify-content-center">
				<button type="button" class="btn btn-success" data-dismiss="modal" onclick="window.location.href='./settings/shutdown.html'">Shutdown</button>
				<button type="button" class="btn btn-danger" data-dismiss="modal">Abbruch</button>
			</div>
		</div>
	</div>
</div>

<!-- modal modulconfig-lp-confirmation window -->
<div class="modal fade" id="modulconfigConfirmationLPModal" role="dialog">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<!-- modal header -->
			<div class="modal-header bg-danger">
				<h4 class="modal-title text-light">Achtung</h4>
			</div>
			<!-- modal body -->
			<div class="modal-body text-center">
				<p>
					Nach erfolgter Einrichtung der openWB ist in der Modulkonfiguration grundsätzlich <b>keine weitere Einstellung notwendig</b>.<br>
				</p>
			</div>
			<!-- modal footer -->
			<div class="modal-footer d-flex justify-content-center">
				<button type="button" class="btn btn-success" data-dismiss="modal" onclick="window.location.href='./settings/modulconfiglp.php'">Weiter</button>
				<button type="button" class="btn btn-danger" data-dismiss="modal">Abbruch</button>
			</div>
		</div>
	</div>
</div>

<!-- modal modulconfig-evu-confirmation window -->
<div class="modal fade" id="modulconfigConfirmationEVUModal" role="dialog">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<!-- modal header -->
			<div class="modal-header bg-danger">
				<h4 class="modal-title text-light">Achtung</h4>
			</div>
			<!-- modal body -->
			<div class="modal-body text-center">
				<p>
					Nach erfolgter Einrichtung der openWB ist in der Modulkonfiguration grundsätzlich keine weitere Einstellung notwendig.<br>
					Fortfahren?
				</p>
			</div>
			<!-- modal footer -->
			<div class="modal-footer d-flex justify-content-center">
				<button type="button" class="btn btn-success" data-dismiss="modal" onclick="window.location.href='./settings/modulconfigevu.php'">Weiter</button>
				<button type="button" class="btn btn-danger" data-dismiss="modal">Abbruch</button>
			</div>
		</div>
	</div>
</div>

<!-- modal modulconfig-pv-confirmation window -->
<div class="modal fade" id="modulconfigConfirmationPVModal" role="dialog">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<!-- modal header -->
			<div class="modal-header bg-danger">
				<h4 class="modal-title text-light">Achtung</h4>
			</div>
			<!-- modal body -->
			<div class="modal-body text-center">
				<p>
					Nach erfolgter Einrichtung der openWB ist in der Modulkonfiguration grundsätzlich keine weitere Einstellung notwendig.<br>
					Fortfahren?
				</p>
			</div>
			<!-- modal footer -->
			<div class="modal-footer d-flex justify-content-center">
				<button type="button" class="btn btn-success" data-dismiss="modal" onclick="window.location.href='./settings/modulconfigpv.php'">Weiter</button>
				<button type="button" class="btn btn-danger" data-dismiss="modal">Abbruch</button>
			</div>
		</div>
	</div>
</div>

<!-- modal modulconfig-bat-confirmation window -->
<div class="modal fade" id="modulconfigConfirmationBATModal" role="dialog">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<!-- modal header -->
			<div class="modal-header bg-danger">
				<h4 class="modal-title text-light">Achtung</h4>
			</div>
			<!-- modal body -->
			<div class="modal-body text-center">
				<p>
					Nach erfolgter Einrichtung der openWB ist in der Modulkonfiguration grundsätzlich keine weitere Einstellung notwendig.<br>
					Fortfahren?
				</p>
			</div>
			<!-- modal footer -->
			<div class="modal-footer d-flex justify-content-center">
				<button type="button" class="btn btn-success" data-dismiss="modal" onclick="window.location.href='./settings/modulconfigbat.php'">Weiter</button>
				<button type="button" class="btn btn-danger" data-dismiss="modal">Abbruch</button>
			</div>
		</div>
	</div>
</div>

<script>
//  jscript Variable debugmode
// wird durch Alt/CntrlSHift Klick in der Navigation aktiviert
// Zustand wird im Cookie aufbewart
// aktivierung nur möglich wenn openWB-Debug>0 ist
//
  if (typeof(debugold) == "undefined" ) 
      debugold=-1;
  var debugmode=debugold; // defaults to
  console.log('debugold', debugold, ' debugmode now:',debugmode);
  tmp=getCookie('debugmode');
  if ( tmp>'')
   { 
    debugmode=tmp;	// override
    console.log('debugmode from cookie:',debugmode);
   } 
  $(document).ready(function(){
	    if(debugmode>2)
         {
               console.log('debugmode>2 remove hide');
			   $('.d_label').removeClass('hide');
		 } else {   
               console.log('debugmode<=2 hide');
			   $('.d_label').addClass('hide');
         }      
	 });
		   	
</script>

